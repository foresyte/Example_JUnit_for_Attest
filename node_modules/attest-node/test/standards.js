var path = require('path'),
	assert = require('chai').assert,
	process = require('process'),
	attest = require('../index');

describe('builtin standards', function() {
	before(function () {
		console.log('calling attest constructor');
		attest = attest('508');
	});
	it('should have a standards object', function () {
		assert.isArray(attest.standards);
	});
	['508', 'wcag2', 'devMin'].forEach(function (std) {
		it('should have ' + std + ' in the array', function () {
			var thing = attest.standards.filter(function (item) {
				return (item.id === std);
			});
			assert.isDefined(thing[0]);
			assert.isObject(thing[0].defn)
		});
	});
	it('should use the passed in standard as the configuration', function () {
		var thing = attest.standards.filter(function (item) {
			return (item.id === '508');
		});
		var string = JSON.stringify(thing[0].defn);
		assert.notEqual(attest.source.indexOf(string), -1);
	});	
});