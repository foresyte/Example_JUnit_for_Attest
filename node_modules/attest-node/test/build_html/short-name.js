
var shortName = require('../../reporter/build_html/short-name');
var assert = require('chai').assert;

describe('shortName', function () {
  describe('given a check', function () {
    var check;

    before(function () {
      check = {
        'testSubject': {
          fileName: 'c:\\TFS\\Quality Engineering\\Main\\Projects\\AAG\\AAG.Web\\AAG.Web.Test.AsCom\\Tests\\Web\\AlaskaAir.com\\AccessibilityTests.cs',
          lineNum: 257,
        },
        platform: {userAgent: 'chrome'}
      };
    });

    it('should return an abbreviated name', function () {
      var name = shortName(check);
      assert(name.indexOf('AccessibilityTests.cs') !== -1);
      assert(name.indexOf('257') !== -1);
      assert(name.indexOf('chrome') !== -1);
    });

  });
});
