/**
 * Creates a short name for a given `check` using
 * the following elements of the `TesDetails` key.
 *
 * "[filename]-[lineNum]-[browser]"
 *
 * @param {Object} check
 * @return {String}
 * @api public
 */

function shortName(testResult) {
    'use strict';
    var name = testResult.id;

    if (testResult.testSubject && testResult.testSubject.fileName.length > 50) {
		name += ' ([...]' + testResult.testSubject.fileName.substr(-45) + ')';

    } else if (testResult.testSubject && testResult.testSubject.fileName) {
        name += ' (' + testResult.testSubject.fileName + ')';
    }

    if (testResult.testSubject.state) {
        name += ': ' + testResult.testSubject.state;
    }
    if (testResult.testSubject.lineNum) {
        name += ' @' + testResult.testSubject.lineNum;
    }
    if (typeof testResult.platform === 'object' && testResult.platform.userAgent) {
        name += ', ' + testResult.platform.userAgent;
    }
    return name;
}

/**
 * Expose module.
 */

module.exports = shortName;