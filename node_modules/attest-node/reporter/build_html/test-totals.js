/**
 * Counts the total violations, and involved nodes,
 * for a given report document (which represents a
 * single TestMethod).
 *
 * Returns a string for display in the rendered template.
 *
 * @param {Array} checks
 * @return {String}
 * @api public
 */

function testTotals(testResults) {
  'use strict';
  var totals = {
    violations: 0,
    nodes: 0,
  };

  testResults.forEach(function (testResult) {
    (testResult.findings.violations || [])
    .forEach(function (violation) {
      totals.violations++;
      totals.nodes += violation.nodes.length;
    });
  });

  return [
    totals.violations,
    'violations, involving',
    totals.nodes,
    'total nodes',
  ].join(' ');
}

/**
 * Expose `testTotals`.
 */

 module.exports = testTotals;
 