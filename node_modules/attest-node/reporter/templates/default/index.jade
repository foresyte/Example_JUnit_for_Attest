doctype html
html(lang="en")
  head
    meta(charset="utf-8")
    title A11y Report - #{testName}
    link(rel="stylesheet" href="assets/bootstrap.min.css")
    link(rel="stylesheet" href="assets/styles.css")

  body
    .container
      if (pages && pages.length > 0)
        ul.nav.nav-pills
          each page in pages
            li
              a(href="#{page.path}") #{page.name}

      include table-of-contents
      include rule-result

      h1 #{testName}
      p #{testTotals}

      +tableOfContents(testResults, userAgents)

      each testResult in testResults
        - var violations = (testResult.findings.violations || []);
        - var passes = (testResult.findings.passes || []);

        .check.panel.panel-default(data-browser="#{getBrowser(testResult)}")
          h2.panel-heading(id="#{shortName(testResult)}" tabindex="0" style="margin:0")
            | #{shortName(testResult) || testResult.id}

          .panel-body
            h3 Violations (#{violations.length})
            p #{violations.length} violations, involving #{countNodes(violations)} total nodes
            .violations
            each violation in violations
              +ruleResult(testResult.name, violation)

            h3 Passes
            p #{passes.length} rules passed, involving #{countNodes(passes)} total nodes
            button.toggle-passes
            .passes.hide
              each pass in passes
                +ruleResult(testResult.name, pass)

    script(src="assets/scripts.js")
